<span ng-repeat="vocab in vocabs" ng-if="item.tags.hasOwnProperty(vocab.field_name) && item.tags[vocab.field_name].hasOwnProperty('und') && item.tags[vocab.field_name].und.length" ng-class="{{'vocab-' + vocab.vid}}">
  <span ng-repeat="tag in item.tags[vocab.field_name].und track by $index" ng-if="tag.name">
    <a ng-if="vocab.field_name == 'taxonomy_vocabulary_16'" href ui-sref="tabs.directory({ area: area && area.hasOwnProperty('tid') ? area.tid : '', type: tag.target_id, page: undefined})" class="tag" ng-class="{'age' : (vocab.label == 'Event Age' || vocab.label == 'Age'), 'area' : (vocab.label == 'Area/Neighborhood' || vocab.label == 'Travel Regions'), 'activity' : (vocab.label == 'Activity Type' || vocab.label == 'Directory Listing Type' || vocab.label == 'Categories'), 'event-tags' : vocab.label == 'Event Tags'}" analytics-on="click" analytics-category="node-detail" analytics-event="contentClick" analytics-label="{{'tag-node-' + vocab.label}}" >{{ tag.name }}</a><!--{{$last ? '' : ', '}}-->
    <a ng-if="vocab.field_name != 'taxonomy_vocabulary_16'" href ui-sref="tabs.node({path: tag.path, tid: tag.target_id, nid: '', page: undefined})" class="tag" ng-class="{'age' : (vocab.label == 'Event Age' || vocab.label == 'Age'), 'area' : (vocab.label == 'Area/Neighborhood' || vocab.label == 'Travel Regions'), 'activity' : (vocab.label == 'Activity Type' || vocab.label == 'Directory Listing Type' || vocab.label == 'Categories'), 'event-tags' : vocab.label == 'Event Tags'}" analytics-on="click" analytics-category="node-detail" analytics-event="contentClick" analytics-label="{{'tag-node-' + vocab.label}}" >{{ tag.name }}</a><!--{{$last ? '' : ', '}}-->
  </span>
</span>
